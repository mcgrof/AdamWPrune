# Full-featured LeNet-5 configuration with AdamWPrune
CONFIG_MODEL_LENET5=y
CONFIG_LENET5_DATASET_MNIST=y

# Use AdamWPrune optimizer with all features
CONFIG_OPTIMIZER_MODE_SINGLE=y
CONFIG_OPTIMIZER_SELECT_ADAMWPRUNE=y
CONFIG_ADV_USE_AMSGRAD=y
CONFIG_ADV_WEIGHT_DECAY="0.01"
CONFIG_ADV_USE_COSINE_ANNEALING=y

# Enable state-based pruning
CONFIG_PRUNING_MODE_SINGLE=y
CONFIG_PRUNING_SELECT_STATE=y
CONFIG_TARGET_SPARSITY="0.9"
CONFIG_PRUNING_WARMUP=100
CONFIG_PRUNING_FREQUENCY=50

# SPAM configuration
CONFIG_SPAM_THETA="50.0"
CONFIG_SPAM_ENABLE_CLIP=y
CONFIG_SPAM_SPIKE_THRESHOLD="2.0"
CONFIG_SPAM_PERIODIC_RESET=y
CONFIG_SPAM_INTERVAL=1000
CONFIG_SPAM_WARMUP=y
CONFIG_SPAM_WARMUP_STEPS=100

# Training configuration
CONFIG_BATCH_SIZE=512
CONFIG_NUM_EPOCHS=10
CONFIG_LEARNING_RATE="0.001"
CONFIG_NUM_WORKERS=16

# Advanced features
CONFIG_COMPILE_MODEL=y
CONFIG_MIXED_PRECISION=y
CONFIG_GPU_WARMUP=y
CONFIG_PIN_MEMORY=y
CONFIG_PERSISTENT_WORKERS=y
CONFIG_GRADIENT_CLIP_NORM="1.0"

# Logging and checkpointing
CONFIG_SAVE_CHECKPOINT=y
CONFIG_CHECKPOINT_INTERVAL=1
CONFIG_PRUNING_LOG_SPARSITY=y
CONFIG_VERBOSE=y
