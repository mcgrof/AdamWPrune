# SPDX-License-Identifier: MIT
# Test all pruning methods with AdamW optimizer
CONFIG_TEST_MATRIX_MODE=y

# General settings
CONFIG_BATCH_SIZE=512
CONFIG_NUM_EPOCHS=10
CONFIG_LEARNING_RATE="0.001"
CONFIG_NUM_WORKERS=16
CONFIG_DEVICE="cuda"

# Models - only LeNet-5
CONFIG_TEST_MODEL_LENET5=y
CONFIG_TEST_MODELS="lenet5"

# Test with AdamW and AdamWPrune
CONFIG_TEST_OPTIMIZER_ENABLED_ADAMW=y
CONFIG_TEST_OPTIMIZER_ENABLED_ADAMWPRUNE=y

# Test all pruning methods
CONFIG_TEST_PRUNING_NONE=y
CONFIG_TEST_PRUNING_MAGNITUDE=y
CONFIG_TEST_PRUNING_MOVEMENT=y
CONFIG_TEST_PRUNING_METHODS="none,magnitude,movement"

# Pruning configuration
CONFIG_TARGET_SPARSITY="0.9"
CONFIG_PRUNING_WARMUP=100
CONFIG_PRUNING_FREQUENCY=50
CONFIG_PRUNING_RAMP_END_EPOCH=8

# Movement pruning settings
CONFIG_MOVEMENT_PRUNING_BETA="0.9"
CONFIG_MOVEMENT_PRUNING_USE_GRADIENT=y

# Magnitude pruning settings
CONFIG_MAGNITUDE_PRUNING_STRUCTURED=n
CONFIG_MAGNITUDE_PRUNING_NORM="l1"

# State-based pruning settings
CONFIG_STATE_PRUNING_STRATEGY="hybrid"
CONFIG_STATE_PRUNING_MOMENTUM_WEIGHT="0.5"

# Advanced options
CONFIG_COMPILE_MODEL=y
CONFIG_MIXED_PRECISION=y
CONFIG_VERBOSE=y
