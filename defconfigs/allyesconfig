# SPDX-License-Identifier: MIT
# All features enabled - test everything
# This enables multiple optimizer mode with all optimizers and pruning methods

# Enable multiple optimizer mode
CONFIG_OPTIMIZER_MODE_MULTIPLE=y

# General settings
CONFIG_BATCH_SIZE=512
CONFIG_NUM_EPOCHS=10
CONFIG_LEARNING_RATE="0.001"
CONFIG_NUM_WORKERS=16
CONFIG_DEVICE="cuda"
CONFIG_DATA_DIR="data"
CONFIG_OUTPUT_DIR="results"
CONFIG_JSON_OUTPUT="training_metrics.json"

# Test all models (currently only LeNet-5)
CONFIG_TEST_MODEL_LENET5=y
CONFIG_TEST_MODELS="lenet5"
CONFIG_LENET5_NUM_CLASSES=10
CONFIG_LENET5_DATASET="mnist"

# Enable ALL optimizers
CONFIG_OPTIMIZER_ENABLE_SGD=y
CONFIG_OPTIMIZER_ENABLE_ADAM=y
CONFIG_OPTIMIZER_ENABLE_ADAMW=y
CONFIG_OPTIMIZER_ENABLE_ADAMWADV=y
CONFIG_OPTIMIZER_ENABLE_ADAMWSPAM=y
CONFIG_OPTIMIZER_ENABLE_ADAMWPRUNE=y

# Enable ALL pruning methods
CONFIG_PRUNING_MODE_MULTIPLE=y
CONFIG_PRUNING_ENABLE_NONE=y
CONFIG_PRUNING_ENABLE_MAGNITUDE=y
CONFIG_PRUNING_ENABLE_MOVEMENT=y
# Note: state-based pruning automatically included with AdamWPrune

# Sparsity levels to test
CONFIG_SPARSITY_ENABLE_50=y
CONFIG_SPARSITY_ENABLE_70=y
CONFIG_SPARSITY_ENABLE_90=y
# CONFIG_SPARSITY_ENABLE_95 is not set
# CONFIG_SPARSITY_ENABLE_99 is not set

# Default target for single-mode pruning
CONFIG_TARGET_SPARSITY="0.9"
CONFIG_PRUNING_WARMUP=100
CONFIG_PRUNING_FREQUENCY=50
CONFIG_PRUNING_RAMP_END_EPOCH=8
CONFIG_PRUNING_LOG_SPARSITY=y

# Movement pruning settings
CONFIG_MOVEMENT_PRUNING_BETA="0.9"
CONFIG_MOVEMENT_PRUNING_USE_GRADIENT=y

# Magnitude pruning settings
CONFIG_MAGNITUDE_PRUNING_STRUCTURED=n
CONFIG_MAGNITUDE_PRUNING_NORM="l1"

# State-based pruning settings
CONFIG_STATE_PRUNING_STRATEGY="hybrid"
CONFIG_STATE_PRUNING_MOMENTUM_WEIGHT="0.5"

# SGD settings
CONFIG_SGD_MOMENTUM="0.9"
CONFIG_SGD_WEIGHT_DECAY="0.0"

# Adam settings
CONFIG_ADAM_BETA1="0.9"
CONFIG_ADAM_BETA2="0.999"
CONFIG_ADAM_EPSILON="1e-8"
CONFIG_ADAM_WEIGHT_DECAY="0.0"

# AdamW settings
CONFIG_ADAMW_BETA1="0.9"
CONFIG_ADAMW_BETA2="0.999"
CONFIG_ADAMW_EPSILON="1e-8"
CONFIG_ADAMW_WEIGHT_DECAY="0.0001"

# Advanced optimizer settings
CONFIG_ADV_USE_AMSGRAD=y
CONFIG_ADV_WEIGHT_DECAY="0.01"
CONFIG_ADV_USE_COSINE_ANNEALING=y
CONFIG_ADV_COSINE_ETA_MIN="1e-6"

# SPAM settings
CONFIG_SPAM_THETA="50.0"
CONFIG_SPAM_ENABLE_CLIP=y
CONFIG_SPAM_SPIKE_THRESHOLD="2.0"
CONFIG_SPAM_PERIODIC_RESET=y
CONFIG_SPAM_INTERVAL=1000
CONFIG_SPAM_WARMUP=y
CONFIG_SPAM_WARMUP_STEPS=100

# Enable ALL advanced features
CONFIG_COMPILE_MODEL=y
CONFIG_MIXED_PRECISION=y
CONFIG_GPU_WARMUP=y
CONFIG_PIN_MEMORY=y
CONFIG_PERSISTENT_WORKERS=y
CONFIG_PREFETCH_FACTOR=2
CONFIG_GRADIENT_CLIP_NORM="1.0"
CONFIG_SAVE_CHECKPOINT=y
CONFIG_CHECKPOINT_INTERVAL=1

# Enable verbose output and debugging
CONFIG_VERBOSE=y
CONFIG_LOG_LEVEL="INFO"
CONFIG_DEBUG=n
CONFIG_PROFILE=n

# Analysis features
CONFIG_PRUNING_SAVE_MASKS=n
CONFIG_PRUNING_VISUALIZE_MASKS=n
